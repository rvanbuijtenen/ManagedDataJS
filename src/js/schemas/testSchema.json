{
	"name": "machine",
	"properties": {
		"machineName": {"type": "string"},
		"start": {"$ref": "#/definitions/state"},
		"states": {
			"type": "array",
			"items": [{"$ref": "#/definitions/state"}]
		}
	},
	"definitions": {
		"state": {
			"properties": {
				"stateName": {"type": "string"},
				"transitions_in": {
					"type": "array",
					"items": [{"$ref": "#/definitions/transition"}]
				},
				"transitions_out": {
					"type": "array",
					"items": [{"$ref": "#/definitions/transition"}]
				}
			}
		},
		"transition": {
			"properties": {
				"event": {"type": "string"},
				"from": {"$ref": "#/definitions/state", "inverse": "transitions_out"},
				"to": {"$ref": "#/definitions/state", "inverse": "transitions_in"}
			}
		}
	}
}